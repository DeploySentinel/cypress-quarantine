!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).plugin=n()}(this,(function(){"use strict";function e(e,n,r,t){return new(r||(r=Promise))((function(o,i){function l(e){try{u(t.next(e))}catch(e){i(e)}}function a(e){try{u(t.throw(e))}catch(e){i(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(l,a)}u((t=t.apply(e,n||[])).next())}))}function n(e,n){var r,t,o,i,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(l=0)),l;)try{if(r=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;switch(t=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,t=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(o=l.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){l.label=a[1];break}if(6===a[0]&&l.label<o[1]){l.label=o[1],o=a;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(a);break}o[2]&&l.ops.pop(),l.trys.pop();continue}a=n.call(e,l)}catch(e){a=[6,e],t=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}const r=10,t=(e=0)=>n=>`[${n+e}m`,o=(e=0)=>n=>`[${38+e};5;${n}m`,i=(e=0)=>(n,r,t)=>`[${38+e};2;${n};${r};${t}m`,l={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(l.modifier);Object.keys(l.color),Object.keys(l.bgColor);const a=function(){const e=new Map;for(const[n,r]of Object.entries(l)){for(const[n,t]of Object.entries(r))l[n]={open:`[${t[0]}m`,close:`[${t[1]}m`},r[n]=l[n],e.set(t[0],t[1]);Object.defineProperty(l,n,{value:r,enumerable:!1})}return Object.defineProperty(l,"codes",{value:e,enumerable:!1}),l.color.close="[39m",l.bgColor.close="[49m",l.color.ansi=t(),l.color.ansi256=o(),l.color.ansi16m=i(),l.bgColor.ansi=t(r),l.bgColor.ansi256=o(r),l.bgColor.ansi16m=i(r),Object.defineProperties(l,{rgbToAnsi256:{value:(e,n,r)=>e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5),enumerable:!1},hexToRgb:{value:e=>{const n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!n)return[0,0,0];let[r]=n;3===r.length&&(r=[...r].map((e=>e+e)).join(""));const t=Number.parseInt(r,16);return[t>>16&255,t>>8&255,255&t]},enumerable:!1},hexToAnsi256:{value:e=>l.rgbToAnsi256(...l.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value:e=>{if(e<8)return 30+e;if(e<16)return e-8+90;let n,r,t;if(e>=232)n=(10*(e-232)+8)/255,r=n,t=n;else{const o=(e-=16)%36;n=Math.floor(e/36)/5,r=Math.floor(o/6)/5,t=o%6/5}const o=2*Math.max(n,r,t);if(0===o)return 30;let i=30+(Math.round(t)<<2|Math.round(r)<<1|Math.round(n));return 2===o&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,n,r)=>l.ansi256ToAnsi(l.rgbToAnsi256(e,n,r)),enumerable:!1},hexToAnsi:{value:e=>l.ansi256ToAnsi(l.hexToAnsi256(e)),enumerable:!1}}),l}();return function(r,t){return t.version,t.env,r("before:run",(function(e){e.browser,e.group,e.parallel,e.system,e.tag,e.config})),r("task",{debug:function(e){var n;return n=e,console.log("".concat(a.yellow.open).concat(n).concat(a.yellow.close)),null}}),r("before:spec",(function(e){})),r("after:spec",(function(e){})),r("after:run",(function(r){return e(void 0,void 0,void 0,(function(){return n(this,(function(e){return[2]}))}))})),[r,t]}}));
